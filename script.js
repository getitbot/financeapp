    
//     // Bank Logos for Marquee
//     banks: [
//         { name: "HDFC Bank", logo: "https://logo.clearbit.com/hdfcbank.com" },
//         { name: "SBI", logo: "https://logo.clearbit.com/sbi.co.in" },
//         { name: "ICICI Bank", logo: "https://logo.clearbit.com/icicibank.com" },
//         { name: "Axis Bank", logo: "https://logo.clearbit.com/axisbank.com" },
//         { name: "Kotak", logo: "https://logo.clearbit.com/kotak.com" },
//         { name: "IndusInd", logo: "https://logo.clearbit.com/indusind.com" },
//         { name: "Bajaj Finserv", logo: "https://logo.clearbit.com/bajajfinserv.in" },
//         { name: "Tata Capital", logo: "https://logo.clearbit.com/tatacapital.com" },
//     ],

//     // Trust Metrics
//     metrics: [
//         { icon: "fa-sack-dollar", value: "₹ 4000 Cr+", label: "Worth of loans Disbursed in last 4 years", color: "text-green-500" },
//         { icon: "fa-handshake", value: "Since 2012", label: "12 years of customer love & trust", color: "text-blue-500" },
//         { icon: "fa-map-location-dot", value: "1500+ Pincodes", label: "Serving you wherever you are", color: "text-red-500" },
//         { icon: "fa-clipboard-check", value: "Rs 0 COST", label: "Certified financial & trusted aid", color: "text-orange-500" },
//     ],

//     // Partners List
//     partners: [
//         "https://th.bing.com/th/id/OIP.FuJpixHMFVNprw0saw6zrgHaEK?w=302&h=180&c=7&r=0&o=7&dpr=1.4&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.E_a6xTAz3QXxRFz1JpcvMAHaEK?w=264&h=180&c=7&r=0&o=7&dpr=1.4&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.T88xKuLaCmLcu6dgdqdfVAHaEo?w=259&h=180&c=7&r=0&o=7&dpr=1.4&pid=1.7&rm=3",
//         "https://www.logotaglines.com/wp-content/uploads/2021/06/Reserve-Bank-of-India-RBI-Tagline-Slogan-punchline-motto.png",
//         "https://th.bing.com/th/id/OIP.8_GccVWGCww3nYKaq5vG9wHaBe?w=315&h=69&c=7&r=0&o=7&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.kjR1YLNqYAFtprq81UjTKQHaEo?w=290&h=181&c=7&r=0&o=7&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.FQtY4NgeIVnBe909PfK1DwHaEK?w=295&h=180&c=7&r=0&o=7&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.VvkHou31J7erJbCNalfT-AHaEK?w=333&h=187&c=7&r=0&o=7&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.fmyyNPr65ppYt80AcSV46AHaC4?w=312&h=135&c=7&r=0&o=7&pid=1.7&rm=3",
//         "https://www.liblogo.com/img-logo/ax6638a7f6-axis-bank-logo-axis-bank-information-about-the-issuer-lei-549300hvnwmjpofvni41.png",
//         "https://th.bing.com/th/id/OIP.6WHoC1nriyXohiNeq74JpQHaBp?w=347&h=78&c=7&r=0&o=7&pid=1.7&rm=3",
//         "https://th.bing.com/th/id/OIP.TSUnsfmJHtTyjpY5gaH5PgHaE7?w=277&h=184&c=7&r=0&o=7&pid=1.7&rm=3"
//     ],
    


/**
 * Finance Buddha - Interaction Engine (v3.0)
 * -----------------------------------------------------
 * Features:
 * 1. IntersectionObserver for "Reveal on Scroll" animations
 * 2. Dynamic Content Rendering with Animation Classes
 * 3. Infinite Marquee Calculation
 * 4. Interactive Mobile Menus
 * 5. Testimonial Slider with Autoplay
 */

/* --- 1. DATA REPOSITORY --- */

/**
 * Finance Buddha - Universal Logic (v5.0)
 * -----------------------------------------------------
 * Features:
 * 1. centralized Data Management (using your provided data).
 * 2. Universal Page Handler (works on Home, About, Careers, Contact).
 * 3. Dynamic Arrow Hover Effects (Slide animation).
 * 4. Scroll Reveal Animations.
 */
/**
 * Finance Buddha - Universal Logic (v5.1 - Fixes)
 * -----------------------------------------------------
 * Updates:
 * 1. Fixed broken links (About, Careers, Contact now work).
 * 2. Removed "slide" hover effects.
 */

/**
 * Finance Buddha - Final Logic (v5.2)
 * -----------------------------------------------------
 * Updates:
 * 1. Mobile Menu now includes About Us & Careers.
 * 2. Centering logic support.
 */

/* --- 1. DATA REPOSITORY --- */
/**
 * Finance Buddha - Final Universal Logic (v6.0)
 * -----------------------------------------------------
 * Updates:
 * 1. Fixed Mobile Menu opening issues (Robust Animation).
 * 2. Updated Mobile Menu Item List.
 * 3. Tools redirect to Coming Soon.
 */
/**
 * Finance Buddha - Final Universal Logic (v7.1)
 * Fixed: Functional Links & Expanded Menu Options
 */

/* --- 1. DATA REPOSITORY (Preserved Metadata) --- */
const APP_DATA = {
    banks: [
        { name: "HDFC Bank", logo: "https://logo.clearbit.com/hdfcbank.com" },
        { name: "SBI", logo: "https://logo.clearbit.com/sbi.co.in" },
        { name: "ICICI Bank", logo: "https://logo.clearbit.com/icicibank.com" },
        { name: "Axis Bank", logo: "https://logo.clearbit.com/axisbank.com" },
        { name: "Kotak", logo: "https://logo.clearbit.com/kotak.com" },
        { name: "IndusInd", logo: "https://logo.clearbit.com/indusind.com" },
        { name: "Bajaj Finserv", logo: "https://logo.clearbit.com/bajajfinserv.in" },
        { name: "Tata Capital", logo: "https://logo.clearbit.com/tatacapital.com" },
    ],
    metrics: [
        { icon: "fa-sack-dollar", value: "₹ 4000 Cr+", label: "Worth of loans Disbursed in last 4 years", color: "text-green-500" },
        { icon: "fa-handshake", value: "Since 2012", label: "12 years of customer love & trust", color: "text-blue-500" },
        { icon: "fa-map-location-dot", value: "1500+ Pincodes", label: "Serving you wherever you are", color: "text-red-500" },
        { icon: "fa-clipboard-check", value: "Rs 0 COST", label: "Certified financial & trusted aid", color: "text-orange-500" },
    ],
    partners: [
        "https://th.bing.com/th/id/OIP.FuJpixHMFVNprw0saw6zrgHaEK?w=302&h=180&c=7&r=0&o=7&dpr=1.4&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.E_a6xTAz3QXxRFz1JpcvMAHaEK?w=264&h=180&c=7&r=0&o=7&dpr=1.4&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.T88xKuLaCmLcu6dgdqdfVAHaEo?w=259&h=180&c=7&r=0&o=7&dpr=1.4&pid=1.7&rm=3",
        "https://www.logotaglines.com/wp-content/uploads/2021/06/Reserve-Bank-of-India-RBI-Tagline-Slogan-punchline-motto.png",
        "https://th.bing.com/th/id/OIP.8_GccVWGCww3nYKaq5vG9wHaBe?w=315&h=69&c=7&r=0&o=7&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.kjR1YLNqYAFtprq81UjTKQHaEo?w=290&h=181&c=7&r=0&o=7&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.FQtY4NgeIVnBe909PfK1DwHaEK?w=295&h=180&c=7&r=0&o=7&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.VvkHou31J7erJbCNalfT-AHaEK?w=333&h=187&c=7&r=0&o=7&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.fmyyNPr65ppYt80AcSV46AHaC4?w=312&h=135&c=7&r=0&o=7&pid=1.7&rm=3",
        "https://www.liblogo.com/img-logo/ax6638a7f6-axis-bank-logo-axis-bank-information-about-the-issuer-lei-549300hvnwmjpofvni41.png",
        "https://th.bing.com/th/id/OIP.6WHoC1nriyXohiNeq74JpQHaBp?w=347&h=78&c=7&r=0&o=7&pid=1.7&rm=3",
        "https://th.bing.com/th/id/OIP.TSUnsfmJHtTyjpY5gaH5PgHaE7?w=277&h=184&c=7&r=0&o=7&pid=1.7&rm=3"
    ],
    testimonials: [
        { name: "Devendra K.", role: "Business Owner", text: "I was in a tight spot and needed capital fast. The digital process was surprisingly smooth. Funds hit my account in 48 hours.", rating: 5 },
        { name: "Priya Sharma", role: "Software Engineer", text: "Comparing interest rates is usually a headache. Finance Buddha made it transparent. I saved about 1.5% on my personal loan.", rating: 4.5 },
        { name: "Rahul Verma", role: "Entrepreneur", text: "The team guided me through the documentation perfectly. No hidden fees, no jargon. Highly recommended for startups.", rating: 5 },
        { name: "Amit Patel", role: "Salaried", text: "Honest advice. They actually told me to wait a month to improve my CIBIL before applying, which got me a better rate.", rating: 5 }
    ],
    blogs: [
        { title: "No Credit Check Loans: The Reality", excerpt: "Is the traditional financial ecosystem changing? We explore how your CIBIL score remains your digital financial identity.", image: "https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80", tag: "Personal Loan", date: "Jan 15, 2026", link: "blog.html" },
        { title: "Self Employed Home Loans Guide", excerpt: "Getting a mortgage as a business owner shouldn't be a nightmare. Here is the documentation checklist you actually need.", image: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80", tag: "Home Loan", date: "Jan 12, 2026", link: "blog.html" },
        { title: "Instant Loans: Boom or Bubble?", excerpt: "From food delivery to credit, speed is everything. But are the high interest rates of instant loans worth the convenience?", image: "https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80", tag: "Trends", date: "Jan 08, 2026", link: "blog.html" }
    ],
    footerLinks: [
        { category: "LOANS", links: [
            { name: "Personal Loan", url: "loan-application.html" },
            { name: "Business Loan", url: "loan-application.html" },
            { name: "Home Loan", url: "loan-application.html" },
            { name: "Gold Loan", url: "loan-application.html" }
        ]},
        { category: "COMPANY", links: [
            { name: "About Us", url: "about.html" },
            { name: "Careers", url: "careers.html" },
            { name: "Contact Us", url: "contact.html" },
            { name: "Blog", url: "blog.html" }
        ]},
        { category: "LEGAL", links: [
            { name: "Privacy Policy", url: "legal.html#privacy" },
            { name: "Terms of Use", url: "legal.html#terms" },
            { name: "Disclaimer", url: "legal.html#disclaimer" }
        ]}
    ]
};

/* --- 2. INITIALIZATION --- */
document.addEventListener('DOMContentLoaded', () => {
    initRenderer(renderBankMarquee, 'hero-bank-logos');
    initRenderer(renderMetrics, 'metrics-grid');
    initRenderer(renderPartners, 'partners-grid');
    initRenderer(renderTestimonials, 'testimonial-track');
    initRenderer(renderBlogs, 'blog-grid');
    initRenderer(renderFooter, 'footer-links-container');
    
    setupMobileMenu();
    setupHeaderScroll();
});

function initRenderer(fn, id) {
    if (document.getElementById(id)) fn();
}

/* --- 3. RENDERING --- */

function renderBlogs() {
    document.getElementById('blog-grid').innerHTML = APP_DATA.blogs.map(blog => `
        <article class="bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col border border-slate-100">
            <img src="${blog.image}" class="h-56 w-full object-cover">
            <div class="p-8">
                <span class="px-3 py-1 bg-blue-50 text-blue-600 text-xs font-bold rounded-full">${blog.tag}</span>
                <h3 class="text-xl font-bold text-slate-900 mt-3 mb-2">${blog.title}</h3>
                <p class="text-slate-500 text-sm mb-6">${blog.excerpt}</p>
                <a href="${blog.link}" class="text-blue-600 font-bold text-sm inline-flex items-center gap-2">Read Article <i class="fa-solid fa-arrow-right"></i></a>
            </div>
        </article>
    `).join('');
}

function renderFooter() {
    const container = document.getElementById('footer-links-container');
    container.innerHTML = APP_DATA.footerLinks.map((section, idx) => `
        <div>
            <div class="flex justify-between items-center md:block mb-4 md:mb-8" onclick="toggleFooter(${idx})">
                <h4 class="text-white font-bold text-sm uppercase tracking-widest">${section.category}</h4>
                <i class="fa-solid fa-chevron-down md:hidden text-gray-500" id="f-icon-${idx}"></i>
            </div>
            <ul id="f-list-${idx}" class="hidden md:block space-y-4">
                ${section.links.map(link => `<li><a href="${link.url}" class="text-gray-400 hover:text-white transition-colors text-sm">${link.name}</a></li>`).join('')}
            </ul>
        </div>
    `).join('');
}

/* --- 4. EXPANDED MOBILE MENU --- */

function setupMobileMenu() {
    const openBtn = document.getElementById('open-menu-btn');
    const closeBtn = document.getElementById('close-menu-btn');
    const sidebar = document.getElementById('sidebar-menu');
    const overlay = document.getElementById('mobile-menu-overlay');
    const navList = document.getElementById('mobile-nav-list');

    const menuOptions = [
        { name: "Personal Loan", url: "loan-application.html", icon: "fa-user-tie" },
        { name: "Business Loan", url: "loan-application.html", icon: "fa-briefcase" },
        { name: "EMI Calculator", url: "emi-calculator.html", icon: "fa-calculator" },
        { name: "CIBIL Score", url: "coming-soon.html", icon: "fa-gauge-high" },
        { name: "About Us", url: "about.html", icon: "fa-circle-info" },
        { name: "Careers", url: "careers.html", icon: "fa-user-graduate" },
        { name: "Blogs", url: "blog.html", icon: "fa-newspaper" },
        { name: "Contact Us", url: "contact.html", icon: "fa-headset" }
    ];

    if (navList) {
        navList.innerHTML = menuOptions.map(opt => `
            <li>
                <a href="${opt.url}" class="flex items-center gap-4 p-4 text-slate-700 font-medium hover:bg-blue-50 hover:text-blue-600 rounded-xl transition-all group">
                    <div class="w-8 h-8 rounded-lg bg-slate-100 group-hover:bg-blue-100 flex items-center justify-center text-slate-400 group-hover:text-blue-600 transition-colors">
                        <i class="fa-solid ${opt.icon}"></i>
                    </div>
                    ${opt.name}
                </a>
            </li>
        `).join('');
    }

    const toggle = (show) => {
        sidebar.style.transform = show ? 'translateX(0)' : 'translateX(100%)';
        overlay.classList.toggle('hidden', !show);
        setTimeout(() => overlay.classList.toggle('opacity-100', show), 10);
        document.body.style.overflow = show ? 'hidden' : '';
    };

    openBtn.onclick = () => toggle(true);
    closeBtn.onclick = () => toggle(false);
    overlay.onclick = () => toggle(false);
}

// Global functions for footer accordion and testimonial movement
window.toggleFooter = (idx) => {
    if (window.innerWidth >= 768) return;
    const list = document.getElementById(`f-list-${idx}`);
    const icon = document.getElementById(`f-icon-${idx}`);
    list.classList.toggle('hidden');
    icon.style.transform = list.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
};

let currentT = 0;
window.moveTestim = (dir) => {
    const track = document.getElementById('testimonial-track');
    currentT = (currentT + dir + APP_DATA.testimonials.length) % APP_DATA.testimonials.length;
    track.style.transform = `translateX(-${currentT * 100}%)`;
};

// Re-binding button clicks if rendered
if(document.getElementById('next-testim')) {
    document.getElementById('next-testim').onclick = () => moveTestim(1);
    document.getElementById('prev-testim').onclick = () => moveTestim(-1);
}

/* --- 5. HEADER SCROLL --- */
function setupHeaderScroll() {
    const bg = document.getElementById('header-bg');
    if(!bg) return;
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            bg.classList.replace('bg-white/70', 'bg-white/95');
            bg.classList.add('shadow-md');
        } else {
            bg.classList.replace('bg-white/95', 'bg-white/70');
            bg.classList.remove('shadow-md');
        }
    });
}

// Preserve other functions (Marquee, Metrics, etc.) exactly as they were in version 7.0
function renderBankMarquee() {
    const container = document.getElementById('hero-bank-logos');
    const html = APP_DATA.banks.map(bank => `
        <div class="px-8 flex-shrink-0"><img src="${bank.logo}" alt="${bank.name}" class="h-8 md:h-10 grayscale opacity-60"></div>
    `).join('');
    container.innerHTML = html + html;
}

function renderMetrics() {
    document.getElementById('metrics-grid').innerHTML = APP_DATA.metrics.map(m => `
        <div class="p-6 bg-white rounded-2xl shadow-sm border border-gray-100">
            <i class="fa-solid ${m.icon} ${m.color} text-3xl mb-4"></i>
            <h3 class="text-2xl font-bold text-slate-900">${m.value}</h3>
            <p class="text-sm text-slate-500 uppercase tracking-wide">${m.label}</p>
        </div>
    `).join('');
}

function renderPartners() {
    document.getElementById('partners-grid').innerHTML = APP_DATA.partners.map(url => `
        <div class="p-4 bg-white rounded-xl border border-gray-50 flex items-center justify-center">
            <img src="${url}" class="h-10 w-auto grayscale opacity-70 hover:grayscale-0 transition-all">
        </div>
    `).join('');
}

function renderTestimonials() {
    document.getElementById('testimonial-track').innerHTML = APP_DATA.testimonials.map(t => `
        <div class="min-w-full px-6 flex flex-col items-center">
            <div class="flex gap-1 text-yellow-400 mb-6"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
            <p class="text-xl md:text-2xl text-white font-light italic leading-relaxed mb-8">"${t.text}"</p>
            <h4 class="font-bold text-white text-lg">${t.name}</h4>
            <p class="text-blue-400 text-sm font-semibold uppercase tracking-widest">${t.role}</p>
        </div>
    `).join('');
}
